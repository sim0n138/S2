# Техническое задание и маршрут развития проекта WoW Pixel Duels

## 1. Видение продукта
WoW Pixel Duels развивается из дуэльного прототипа в карточно-тактическую игру с сеточным полем 4×3, управлением отрядом существ и системой ресурсов. Цель — приблизить проект к визуальному референсу (четыре насыщенные панели интерфейса) и расширить геймплей до коллекционной стратегии.

## 2. Основные игровые подсистемы
1. **Боевой цикл**
   - Пошаговый раунд: игрок → противник.
   - Управление единицами на поле, поддержка отрядов и героев.
   - Обработка эффектов (урон, исцеление, щиты, контроль, DoT, AoE).
2. **Карточная система**
   - Колоды по фракциям/классам.
   - Типы карт: существа, заклинания, артефакты.
   - Стоимость, ресурсы, синергии.
3. **Поле и позиционирование**
   - Сетка 4×3: 2 ряда игрока, 2 ряда противника.
   - Учет соседства, направленных умений, зональных эффектов.
4. **Панели интерфейса**
   - Поле боя.
   - Вертикальные панели фракций/героев.
   - Сцена активного героя.
   - Панель навыков/артефактов.
5. **Прогрессия**
   - Сценарии, миссии, метапрогрессия, достижения (этап поздний).

## 3. Ограничения и требования
- Web-технологии без внешних фреймворков.
- Поддержка локальной игры против AI.
- Возможность модульного расширения без переписывания ядра.
- Консервация текущего функционала дуэльного режима на переходный период.

## 4. Маршрут разработки (этапы)
1. **Предпродакшн**
   - Финализация дизайн-документа.
   - Создание библиотеки шаблонов классов, карт и фракций.
2. **Архитектурный рефакторинг**
   - Модульные сущности: `Battlefield`, `Deck`, `Card`, `Unit`.
   - Универсальные менеджеры состояний и эффектов.
3. **Ревизия UI**
   - Новая структура `index.html` с четырьмя панелями.
   - Расширенные стили и анимации для карточных элементов.
4. **Расширение механик**
   - Полноценная сетка, размещение отрядов, обработка ходов.
   - Колоды, добор, эффекты зон.
5. **Контент + прогрессия**
   - Фракции, сценарии, достижения, сохранения.
6. **Полировка**
   - Звук, частицы, локализация, QA.

## 5. Путевой маршрут (итерации с целями)
| Итерация | Цель | Основные результаты |
|----------|------|---------------------|
| I | Подготовка архитектуры | Документация, шаблоны классов, каркас менеджеров. |
| II | Скелет карточной боевой системы | Минимально работоспособная сетка, размещение героев, базовые атаки. |
| III | UI 4-панельного макета | Новая разметка, интерактивные панели, адаптация CSS. |
| IV | Расширенный геймплей | Колоды, эффекты, синергии. |
| V | Контентные обновления | Фракции, сценарии, балансы. |
| VI | Сервисные функции | Сохранения, звук, достижения. |

## 6. ToDo (актуальная версия)
- [x] Зафиксировать ТЗ, маршрут, путевой маршрут.
- [x] Выделить шаблоны классов и способностей в отдельную библиотеку данных.
- [ ] Создать каркасы менеджеров (`Battlefield`, `Card`, `Deck`) и интегрировать в существующую игру.
- [ ] Перестроить интерфейс под четырёхпанельный макет.
- [ ] Реализовать прототип карточной механики (колода, добор, розыгрыш).
- [ ] Расширить AI под управление несколькими юнитами.
- [ ] Добавить сценарии/миссии и прогрессию.
- [ ] Провести полировку и QA.

## 7. Следующий шаг
Создание каркасов менеджеров (`Battlefield`, `Card`, `Deck`) и интеграция их в существующую игру — подготовка сцены к работе с несколькими юнитами.
